import{u as w,c as x,_ as S}from"./CardCourse.vue_vue_type_style_index_0_scope_true_lang-c7ee3644.js";import{_ as A,M as B}from"./Modal.vue_vue_type_script_setup_true_lang-93fcd08b.js";import{u as $,c as z}from"./StudentsStore-95881630.js";import{B as M,r as N,z as f,d as j,c as d,e as o,t as v,h as s,F as p,i as k,n as L,k as C,o as r,j as y,q as V}from"./index-f86a028a.js";import"./UserAdapter-f2f88c13.js";const q=()=>{const l=M().params,n=$(),t=w(),i=N(!1),{addStudentToCourseStore:_,getStudentCoursesList:m}=n,{getCoursesList:g}=t;m(parseInt(l.id));const a=f(()=>z(n.studentCourses)),e=f(()=>{var u;return(u=n.studentCourses)==null?void 0:u.courses.map(c=>x(c))}),h=async u=>{if(confirm("Â¿Esta seguro que desea agregar el curso?"))try{await _(parseInt(l.id),u),alert("Curso agregado correctamente")}catch(c){console.log(c)}};g();const b=f(()=>t.courses.filter(u=>!e.value.find(c=>c.id===u.id)));return{showModal:i,student:a,distinctCourses:b,courses:e,addCourse:h}},E={class:"d-flex justify-content-between mt-3"},F={class:"student-courses mt-5"},I={key:0},T={key:1,class:"student-courses"},D={class:"row mt-3"},H={class:"d-flex justify-content-center"},P=["onClick"],Q=j({__name:"StudentCourses",setup(l){const{student:n,showModal:t,distinctCourses:i,courses:_,addCourse:m}=q();return(g,a)=>(r(),d(p,null,[o("div",E,[o("h2",null,"Cursos del estudiante "+v(s(n).name),1),o("button",{class:"btn btn-success",onClick:a[0]||(a[0]=e=>t.value=!s(t))}," Agregar curso a este estudiante ")]),o("div",F,[(r(!0),d(p,null,k(s(_),e=>(r(),y(S,{key:e.id,course:e},null,8,["course"]))),128))]),L(A,{"show-modal":s(t),onClose:a[1]||(a[1]=e=>t.value=!1),"modal-size":s(B).xl},{title:C(()=>[V(" Agregar cursos a: "+v(s(n).name),1)]),default:C(()=>[s(i).length===0?(r(),d("h2",I,"No hay cursos para mostrar")):(r(),d("div",T,[(r(!0),d(p,null,k(s(i),e=>(r(),y(S,{key:e.id,course:e},{default:C(()=>[o("div",D,[o("div",H,[o("button",{class:"btn btn-success btn-sm",onClick:h=>s(m)(e.id)}," Agregar ",8,P)])])]),_:2},1032,["course"]))),128))]))]),_:1},8,["show-modal","modal-size"])],64))}});export{Q as default};
