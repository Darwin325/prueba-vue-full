import{u as B,c as L,_ as k}from"./CardCourse.vue_vue_type_script_setup_true_lang-a9db0d58.js";import{d as M,c as d,x as N,e as s,y as v,z as w,A as z,F as _,o as n,q as C,B as V,r as j,m as f,t as S,h as a,i as x,n as q,k as b,j as $}from"./index-0c6459d3.js";import{u as E,c as F}from"./StudentsStore-bfa4b206.js";import"./UserAdapter-f2f88c13.js";var p=(e=>(e.sm="sm",e.md="md",e.lg="lg",e.xl="xl",e))(p||{});const I={key:0,class:"modal-backdrop fade show",bis_skin_checked:"1"},T={class:"modal-content"},D={class:"modal-header"},H={class:"modal-title",id:"exampleModalLabel"},P={class:"modal-body"},R=M({__name:"Modal",props:{showModal:{type:Boolean,default:!1},modalSize:{default:p.sm}},emits:["close"],setup(e,{emit:l}){const o=e,r=()=>{o.showModal=!1,l("close")};return(c,h)=>(n(),d(_,null,[e.showModal?(n(),d("div",I)):N("",!0),s("div",{class:v(["modal fade",+e.showModal&&" show"]),style:z({display:e.showModal?"block":"none"}),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[s("div",{class:v(["modal-dialog modal-dialog-centered modal-"+e.modalSize])},[s("div",T,[s("div",D,[s("h5",H,[w(c.$slots,"title",{},()=>[C("Modal title")])]),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:r})]),s("div",P,[w(c.$slots,"default",{},()=>[C("Modal body")])]),s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:r,emit:"closeModal"}," Close ")])])],2)],6)],64))}}),G=()=>{const e=V().params,l=E(),o=B(),r=j(!1),{addStudentToCourseStore:c,getStudentCoursesList:h}=l,{getCoursesList:y}=o;h(parseInt(e.id));const u=f(()=>F(l.studentCourses)),t=f(()=>{var i;return(i=l.studentCourses)==null?void 0:i.courses.map(m=>L(m))}),g=async i=>{if(confirm("Â¿Esta seguro que desea agregar el curso?"))try{await c(parseInt(e.id),i),alert("Curso agregado correctamente")}catch(m){console.log(m)}};y();const A=f(()=>o.courses.filter(i=>!t.value.find(m=>m.id===i.id)));return{showModal:r,student:u,distinctCourses:A,courses:t,addCourse:g}},J={class:"d-flex justify-content-between mt-3"},K={class:"row mt-5"},O={key:0},Q={key:1,class:"row"},U={class:"row mt-3"},W={class:"d-flex justify-content-center"},X=["onClick"],ts=M({__name:"StudentCourses",setup(e){const{student:l,showModal:o,distinctCourses:r,courses:c,addCourse:h}=G();return(y,u)=>(n(),d(_,null,[s("div",J,[s("h2",null,"Cursos del estudiante "+S(a(l).name),1),s("button",{class:"btn btn-success",onClick:u[0]||(u[0]=t=>o.value=!a(o))}," Agregar curso ")]),s("div",K,[(n(!0),d(_,null,x(a(c),t=>(n(),$(k,{key:t.id,course:t},null,8,["course"]))),128))]),q(R,{"show-modal":a(o),onClose:u[1]||(u[1]=t=>o.value=!1),"modal-size":a(p).xl},{title:b(()=>[C(" Agregar cursos a: "+S(a(l).name),1)]),default:b(()=>[a(r).length===0?(n(),d("h2",O,"No hay cursos para mostrar")):(n(),d("div",Q,[(n(!0),d(_,null,x(a(r),t=>(n(),$(k,{key:t.id,course:t},{default:b(()=>[s("div",U,[s("div",W,[s("button",{class:"btn btn-success btn-sm",onClick:g=>a(h)(t.id)}," Agregar ",8,X)])])]),_:2},1032,["course"]))),128))]))]),_:1},8,["show-modal","modal-size"])],64))}});export{ts as default};
